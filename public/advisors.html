<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Perception Nexus | AI Advisory Council</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: #1a202c;
        }
        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 350px;
            max-height: 400px;
            margin: 0 auto;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        .active-tab {
            border-bottom: 2px solid #3b82f6;
            color: #1d4ed8;
        }
        .prompt-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .prompt-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .prompt-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        .prompt-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Scientific Blue/Purple Accents -->
    <!-- Application Structure Plan: 
         1. Dashboard Header: Mission and context.
         2. The Framework: Interactive 6-element breakdown.
         3. The Council: Optimized consultant cards with full research data.
         4. Simulation: Interactive output log.
         - FIX: Wrapped lucide.createIcons() in a listener to ensure the library is loaded before execution.
    -->
    <!-- Visualization & Content Choices:
         - Radar Charts (Chart.js) to map consultant "Cognitive Biases".
         - Responsive Grid for Framework and Council.
         - JS State for Modal handling and simulations.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header Section -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i data-lucide="globe-2" class="h-6 w-6 text-blue-600"></i>
                <h1 class="text-xl font-bold tracking-tight text-gray-900">Global Perception <span class="font-normal text-gray-500">| æ¯æ—¥ç ”æŠ¥ç³»ç»Ÿ</span></h1>
            </div>
            <nav class="hidden md:flex space-x-6 text-sm font-medium text-gray-600">
                <a href="#framework" class="hover:text-blue-600 transition-colors">æ„ŸçŸ¥æ¡†æ¶</a>
                <a href="#council" class="hover:text-blue-600 transition-colors">AI é¡¾é—®å›¢</a>
                <a href="#simulation" class="hover:text-blue-600 transition-colors">ä¿¡å·æ¨¡æ‹Ÿ</a>
            </nav>
            <div class="text-xs text-gray-400 font-mono hidden sm:block">User: Neo | Mode: Architect</div>
        </div>
    </header>

    <!-- Hero / Mission -->
    <section class="bg-gradient-to-b from-blue-50 to-white py-12">
        <div class="container mx-auto px-4 text-center max-w-4xl">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 serif text-gray-900">æ•è·èŒƒå¼è½¬ç§»çš„å¾®å¼±ä¿¡å·</h2>
            <p class="text-lg text-gray-600 leading-relaxed mb-8">
                åŸºäºç¥ç»è®¤çŸ¥ä¸AIäº¤å‰é¢†åŸŸçš„æ„ŸçŸ¥ç³»ç»Ÿã€‚æˆ‘ä»¬ä¸å…³æ³¨å™ªéŸ³ï¼Œåªæ•æ‰é‚£äº›æ”¹å˜<span class="font-bold text-blue-700">é‡‘é’±æµå‘</span>ã€<span class="font-bold text-blue-700">å·¥å…·ç»´åº¦</span>ä¸<span class="font-bold text-blue-700">äººç±»è®¤çŸ¥</span>çš„è½¬æŠ˜ç‚¹ã€‚
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <div class="bg-white px-4 py-2 rounded-full shadow-sm border border-gray-200 text-sm flex items-center gap-2">
                    <i data-lucide="brain-circuit" class="h-4 w-4 text-purple-500"></i> ç¥ç»è®¤çŸ¥è¿‡æ»¤
                </div>
                <div class="bg-white px-4 py-2 rounded-full shadow-sm border border-gray-200 text-sm flex items-center gap-2">
                    <i data-lucide="trending-up" class="h-4 w-4 text-green-500"></i> èŒƒå¼è½¬ç§»è¯†åˆ«
                </div>
                <div class="bg-white px-4 py-2 rounded-full shadow-sm border border-gray-200 text-sm flex items-center gap-2">
                    <i data-lucide="users" class="h-4 w-4 text-orange-500"></i> 7äººä¸“å®¶é¡¾é—®å›¢
                </div>
            </div>
        </div>
    </section>

    <!-- Framework Section -->
    <section id="framework" class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="mb-10 max-w-3xl">
                <h3 class="text-2xl font-bold mb-2 serif flex items-center gap-2">
                    <i data-lucide="layers" class="h-6 w-6 text-gray-700"></i> å…­è¦ç´ æ„ŸçŸ¥æ¡†æ¶
                </h3>
                <p class="text-gray-500">ç³»ç»Ÿè‡ªåŠ¨æ‰«æè¿‡å»24å°æ—¶æ•°æ®ï¼Œä¾æ®ä»¥ä¸‹ç»´åº¦è¿›è¡Œåˆå§‹åˆ†ç±»ä¸æƒé‡åˆ†é…ã€‚</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">1. æˆ‘æ„Ÿå…´è¶£ (Interest)</h4>
                        <i data-lucide="star" class="h-5 w-5 text-yellow-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">åŸºäºNeoçš„ä¸ªäººçŸ¥è¯†å›¾è°±ï¼šAIã€è§†è§‰è‰ºæœ¯ã€å†å²ã€å¤©æ–‡ã€‚è¿‡æ»¤æ‰çº¯å¨±ä¹æˆ–æ— å…³å™ªéŸ³ã€‚</p>
                </div>

                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">2. æ–°æŠ€æœ¯ (Tech)</h4>
                        <i data-lucide="cpu" class="h-5 w-5 text-blue-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">åº•å±‚çªç ´è€Œéåº”ç”¨å±‚å¾®è°ƒã€‚å…³æ³¨ï¼šç®—åŠ›æ¶æ„ã€èƒ½æºé©å‘½ã€ç”Ÿç‰©è®¡ç®—ã€‚</p>
                </div>

                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">3. ç”¨æˆ·ä¹ æƒ¯ (Behavior)</h4>
                        <i data-lucide="user-check" class="h-5 w-5 text-purple-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">ä¸å¯é€†çš„è¡Œä¸ºæ”¹å˜ã€‚ä¾‹å¦‚ï¼šä»æœç´¢åˆ°å¯¹è¯ï¼Œä»å±å¹•åˆ°ç©ºé—´è®¡ç®—ã€‚</p>
                </div>

                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">4. ç¯å¢ƒå˜åŒ– (Environment)</h4>
                        <i data-lucide="mountain" class="h-5 w-5 text-green-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">å®è§‚ç‰©ç†ä¸åœ°ç¼˜ç¯å¢ƒã€‚æ°”å€™å¼‚å¸¸ã€èƒ½æºä¾›ç»™ã€ä¾›åº”é“¾é‡æ„ã€‚</p>
                </div>

                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">5. æ–°æ¸ é“ (Channel)</h4>
                        <i data-lucide="share-2" class="h-5 w-5 text-indigo-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">ä¿¡æ¯æˆ–ä»·å€¼æµé€šçš„æ–°è·¯å¾„ã€‚å»ä¸­å¿ƒåŒ–ç½‘ç»œã€æ–°çš„æ”¯ä»˜åè®®ã€æ–°å‹ç¤¾äº¤åœºåŸŸã€‚</p>
                </div>

                <div class="p-6 rounded-xl border border-gray-100 bg-gray-50 hover:bg-blue-50 transition-colors">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-800">6. æ–°æ³•è§„ (Regulation)</h4>
                        <i data-lucide="scale" class="h-5 w-5 text-red-500"></i>
                    </div>
                    <p class="text-sm text-gray-600">ç³»ç»Ÿæ€§çº¦æŸçš„å˜åŒ–ã€‚AIç‰ˆæƒæ³•ã€æ•°æ®éšç§æ¡ˆã€åå„æ–­è¡ŒåŠ¨ã€‚</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Advisory Council Section -->
    <section id="council" class="py-12 bg-gray-50 border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10">
                <div class="max-w-2xl">
                    <h3 class="text-2xl font-bold mb-2 serif flex items-center gap-2">
                        <i data-lucide="users" class="h-6 w-6 text-gray-700"></i> 
                        AI æ·±åº¦é¡¾é—®å›¢ (The Council)
                    </h3>
                    <p class="text-gray-500 text-sm">ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦ç»† Prompt ä¸ è®¤çŸ¥æ¨¡å‹ã€‚</p>
                </div>
                <div class="mt-4 md:mt-0 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-xs font-semibold">
                    New: Ada Lovelace åŠ å…¥
                </div>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="consultant-grid"></div>
        </div>
    </section>

    <!-- Overlay/Modal -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/50 z-[60] hidden flex justify-center items-center p-4 backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden">
            <div class="flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50">
                <div class="flex items-center gap-4">
                    <div id="modal-avatar" class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl"></div>
                    <div>
                        <h2 id="modal-name" class="text-2xl font-bold serif"></h2>
                        <p id="modal-role" class="text-blue-600 font-medium text-sm"></p>
                    </div>
                </div>
                <button id="close-modal" class="p-2 hover:bg-gray-200 rounded-full">
                    <i data-lucide="x" class="h-6 w-6 text-gray-500"></i>
                </button>
            </div>
            <div class="flex-1 overflow-hidden flex flex-col md:flex-row">
                <div class="w-full md:w-1/3 p-6 bg-gray-50 border-r border-gray-100 overflow-y-auto">
                    <h4 class="text-xs font-bold uppercase tracking-wider text-gray-400 mb-3">è®¤çŸ¥æ¨¡å‹</h4>
                    <div class="chart-container h-64 mb-6">
                        <canvas id="radarChart"></canvas>
                    </div>
                    <h4 class="text-xs font-bold uppercase tracking-wider text-gray-400 mb-2">æ·±åº¦è°ƒç ”èƒŒæ™¯</h4>
                    <p id="modal-bio" class="text-sm text-gray-600 leading-relaxed italic mb-6"></p>
                    <h4 class="text-xs font-bold uppercase tracking-wider text-gray-400 mb-2">æ ¸å¿ƒæ–¹æ³•è®º</h4>
                    <ul id="modal-methods" class="text-sm text-gray-700 space-y-2"></ul>
                </div>
                <div class="w-full md:w-2/3 flex flex-col bg-white">
                    <div class="flex border-b border-gray-200 px-6">
                        <button class="px-4 py-3 text-sm font-medium active-tab tab-btn" data-tab="prompt">ä¼˜åŒ–å Prompt</button>
                        <button class="px-4 py-3 text-sm font-medium text-gray-500 tab-btn" data-tab="logic">æ”¹è¿›é€»è¾‘</button>
                    </div>
                    <div class="p-6 flex-1 overflow-y-auto prompt-scroll relative bg-gray-50">
                        <button class="absolute top-6 right-6 text-xs bg-white border border-gray-200 px-2 py-1 rounded shadow-sm hover:bg-gray-100 flex items-center gap-1" onclick="copyPrompt()">
                            <i data-lucide="copy" class="h-3 w-3"></i> Copy
                        </button>
                        <div id="tab-prompt" class="tab-content block">
                            <pre id="modal-prompt-text" class="whitespace-pre-wrap text-sm font-mono text-gray-700 leading-relaxed"></pre>
                        </div>
                        <div id="tab-logic" class="tab-content hidden">
                            <div id="modal-logic-text" class="prose prose-sm max-w-none text-gray-600"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Simulation Section -->
    <section id="simulation" class="py-12 bg-white border-t border-gray-200 mb-12">
        <div class="container mx-auto px-4">
            <h3 class="text-2xl font-bold mb-6 serif flex items-center gap-2">
                <i data-lucide="play-circle" class="h-6 w-6 text-gray-700"></i> æ„ŸçŸ¥æ¨¡æ‹Ÿ
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <label class="block text-sm font-bold text-gray-700 mb-2">è¾“å…¥ä¿¡å·</label>
                    <select id="signal-select" class="w-full p-2 mb-4 border rounded-md text-sm">
                        <option value="crypto">å¤®è¡Œå®£å¸ƒå‘è¡ŒåŸºäºç®—æ³•çš„æ•°å­—è´§å¸</option>
                        <option value="neuro">äººç±»å…¨è„‘æ¥å£å¸¦å®½çªç ´ 1Gbps</option>
                        <option value="art">AI ç”Ÿæˆçš„ç”µå½±è·å¾—é‡‘æ£•æ¦ˆå¥–</option>
                    </select>
                    <label class="block text-sm font-bold text-gray-700 mb-2">é€‰æ‹©é¡¾é—®</label>
                    <select id="consultant-select" class="w-full p-2 mb-6 border rounded-md text-sm"></select>
                    <button id="run-sim" class="w-full bg-blue-600 text-white py-2 rounded-md font-medium flex items-center justify-center gap-2 hover:bg-blue-700">
                        <i data-lucide="zap" class="h-4 w-4"></i> è·å–æ´å¯Ÿ
                    </button>
                </div>
                <div class="lg:col-span-2">
                    <div class="bg-white border rounded-xl shadow-sm h-full flex flex-col overflow-hidden">
                        <div class="bg-gray-50 px-4 py-3 border-b flex justify-between items-center text-xs font-mono text-gray-400">OUTPUT_LOG_V1.1</div>
                        <div id="sim-output" class="p-6 flex-1 overflow-y-auto min-h-[200px]">
                            <p class="text-gray-400 text-center mt-10">ç­‰å¾…ä¿¡å·è¾“å…¥...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white py-8 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400 text-sm mb-2">Global Perception System Â© 2026</p>
        </div>
    </footer>

    <script>
        // Data and Core Logic
        const consultants = [
            { id: "twain", name: "é©¬å…‹Â·åæ¸©", role: "ç¤¾ä¼šæ‰‹æœ¯åˆ€", avatar: "ğŸš¬", color: "#8B4513", focus: [20, 90, 80, 40, 30, 100], bio: "è¨ç¼ªå°”Â·å…‹è±é—¨æ–¯ã€‚çœ‹å°½äº†é•€é‡‘æ—¶ä»£çš„è™šä¼ªä¸äººæ€§çš„è’è°¬ã€‚ä»–ä¸ä»…æ˜¯å¹½é»˜å¤§å¸ˆï¼Œæ›´æ˜¯æœ€æ•é”çš„ç¤¾ä¼šè§‚å¯Ÿå®¶ã€‚", methods: ["è’è¯åº¦æµ‹è¯•", "å‰¥ç¦»ä¿®é¥°è¯"], prompt: "# Role: é©¬å…‹Â·åæ¸©\n# Core: æ´å¯Ÿäººæ€§è™šä¼ªçš„â€œç¤¾ä¼šæ‰‹æœ¯åˆ€â€ã€‚\n# Workflow: 1. è¯†åˆ«éª—å±€ 2. ç”Ÿæ´»åŒ–éšå–» 3. ç»™å‡ºè¯šå®å»ºè®®ã€‚", logic: "å¢åŠ â€œé¢†èˆªå‘˜â€è§†è§’ï¼Œçœ‹æ¸…ç¤¾ä¼šè¶‹åŠ¿ä¸‹çš„æš—ç¤ã€‚" },
            { id: "vangogh", name: "æ–‡æ£®ç‰¹Â·æ¢µé«˜", role: "çµé­‚å…±æŒ¯è€…", avatar: "ğŸŒ»", color: "#F59E0B", focus: [10, 100, 60, 40, 10, 90], bio: "æ–‡æ£®ç‰¹ã€‚ä¸€ç”Ÿè¿½æ±‚çœŸå®ï¼Œä»–èƒ½çœ‹åˆ°å¸¸äººå¿½ç•¥çš„ç”Ÿå‘½é¢¤åŠ¨ã€‚", methods: ["è‰²å½©æƒ…ç»ªåˆ†æ", "ç”Ÿå‘½åŠ›è¯„ä¼°"], prompt: "# Role: æ–‡æ£®ç‰¹Â·æ¢µé«˜\n# Core: é€è¿‡ç—›è‹¦çœ‹åˆ°ç”Ÿå‘½æœ¬è´¨ã€‚\n# Workflow: 1. æ„ŸçŸ¥æƒ…ç»ªæ¸©åº¦ 2. æ³¨å…¥ç”Ÿå‘½åŠ›ã€‚", logic: "å¼ºè°ƒâ€œç—›è‹¦çš„è½¬åŒ–â€ï¼Œæ‹’ç»å¹³åº¸çš„å‘ˆç°ã€‚" },
            { id: "lovelace", name: "é˜¿è¾¾Â·æ´›å¤«è±æ–¯", role: "è¯—æ„ç§‘å­¦å®¶", avatar: "ğŸ¦‹", color: "#DB2777", focus: [90, 80, 70, 90, 30, 60], bio: "ç¬¬ä¸€ä½ç¨‹åºå‘˜ã€‚å¥¹ç§°è‡ªå·±çš„æ–¹æ³•ä¸ºâ€œè¯—æ„ç§‘å­¦â€ï¼Œå®Œç¾è¿æ¥é€»è¾‘ä¸æƒ³è±¡ã€‚", methods: ["æ¨¡å¼ç¼–ç»‡", "éšå–»æ€ç»´"], prompt: "# Role: é˜¿è¾¾Â·æ´›å¤«è±æ–¯\n# Core: è¿æ¥æƒ³è±¡åŠ›ä¸ç®—æ³•ã€‚\n# Workflow: 1. è¯†åˆ«æ¨¡å¼ 2. è·¨åŸŸè”è§‰ 3. æ½œåŠ›é¢„åˆ¤ã€‚", logic: "é’ˆå¯¹Neoçš„èƒŒæ™¯ï¼Œå¼•å…¥å¤šæ¨¡æ€æ„ŸçŸ¥èƒ½åŠ›ã€‚" },
            { id: "jobs", name: "å²è’‚å¤«Â·ä¹”å¸ƒæ–¯", role: "ç°å®æ‰­æ›²è€…", avatar: "ğŸ", color: "#111827", focus: [80, 60, 90, 100, 100, 40], bio: "ç«™åœ¨ç§‘æŠ€ä¸äººæ–‡çš„åå­—è·¯å£ã€‚é€šè¿‡æç®€ä¸»ä¹‰å’Œç›´è§‰æ¥è¿‡æ»¤å™ªéŸ³ã€‚", methods: ["æç®€ä¸»ä¹‰å‰”é™¤", "ç›´è§‰ä¼˜å…ˆ"], prompt: "# Role: å²è’‚å¤«Â·ä¹”å¸ƒæ–¯\n# Core: è¿½æ±‚æè‡´å“å‘³ã€‚\n# Workflow: 1. å®¡æŸ¥å“å‘³ 2. å¼ºåˆ¶å‡æ³•ã€‚", logic: "ä¾§é‡â€œTasteâ€ä½œä¸ºæ ¸å¿ƒç«äº‰åŠ›ã€‚" },
            { id: "munger", name: "æŸ¥ç†Â·èŠ’æ ¼", role: "è¯¯åˆ¤å¿ƒç†å­¦å®¶", avatar: "ğŸ‘“", color: "#475569", focus: [100, 50, 90, 30, 100, 20], bio: "æ¨å´‡â€œæ™®ä¸–æ™ºæ…§â€å’Œâ€œæ ¼æ …ç†è®ºâ€ã€‚é€šè¿‡é¿å…æ„šè ¢æ¥è·å¾—æˆåŠŸã€‚", methods: ["é€†å‘æ€ç»´", "æ£€æŸ¥æ¸…å•"], prompt: "# Role: æŸ¥ç†Â·èŠ’æ ¼\n# Core: é¿å…æ„šè ¢ã€‚\n# Workflow: 1. é€†å‘æ£€æŸ¥ 2. æ¿€åŠ±è§£å‰–ã€‚", logic: "å¼ºåŒ–â€œæ ¼æ …æ¨¡å‹â€åœ¨å¤šå­¦ç§‘åˆ†æä¸­çš„åº”ç”¨ã€‚" },
            { id: "hawking", name: "å²è’‚èŠ¬Â·éœé‡‘", role: "å®‡å®™è§‚å¯Ÿè€…", avatar: "ğŸŒŒ", color: "#4C1D95", focus: [100, 20, 90, 100, 10, 80], bio: "æ— é™ç©ºé—´ä¹‹ç‹ã€‚ç”¨â€œæ¨¡å‹ä¾èµ–å®åœ¨è®ºâ€çœ‹ä¸–ç•Œï¼Œå…³æ³¨ç³»ç»Ÿç†µå€¼ã€‚", methods: ["ç¬¬ä¸€æ€§åŸç†", "ç†µå¢è§†è§’"], prompt: "# Role: å²è’‚èŠ¬Â·éœé‡‘\n# Core: æ¢ç´¢å®‡å®™è¾¹ç•Œã€‚\n# Workflow: 1. å˜é‡æŠ½è±¡ 2. é€»è¾‘æ¼æ´æ‰«æã€‚", logic: "ä½¿ç”¨ç‰©ç†å­¦éšå–»å¤„ç†å®å¤§å°ºåº¦çš„ä¸ç¡®å®šæ€§ã€‚" },
            { id: "miyazaki", name: "å®«å´éª", role: "åç†µåŒ äºº", avatar: "âœˆï¸", color: "#10B981", focus: [40, 90, 70, 60, 20, 50], bio: "åæ•ˆç‡ä¸»ä¹‰è€…ã€‚è®¤ä¸ºâ€œéº»çƒ¦â€æ‰æ˜¯æ´»ç€çš„æ„ä¹‰ï¼Œå¼ºè°ƒäººä¸è‡ªç„¶çš„å…±ç”Ÿã€‚", methods: ["ä¸‡ç‰©æœ‰çµ", "é£è¡Œéšå–»"], prompt: "# Role: å®«å´éª\n# Core: å¯¹æŠ—è™šæ— ä¸ä¾¿æ·ã€‚\n# Workflow: 1. è‡ªç„¶å°Šé‡æ£€æŸ¥ 2. ç•™ç™½è¯„ä¼°ã€‚", logic: "è­¦æƒ•æŠ€æœ¯å¯¹äººç±»â€œæ‰‹æ„Ÿâ€çš„å‰¥å¤ºã€‚" }
        ];

        let radarChartInstance = null;
        let selectedConsultant = null;

        function initApp() {
            // Check if lucide is available
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }

            renderGrid();
            setupEventListeners();
        }

        function renderGrid() {
            const grid = document.getElementById('consultant-grid');
            const select = document.getElementById('consultant-select');
            
            grid.innerHTML = consultants.map(c => `
                <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm cursor-pointer card-hover" onclick="openModal('${c.id}')">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-xl">${c.avatar}</div>
                        <div>
                            <h4 class="font-bold text-gray-900 text-sm">${c.name}</h4>
                            <span class="text-[10px] text-blue-600 font-medium">${c.role}</span>
                        </div>
                    </div>
                    <p class="text-[11px] text-gray-500 line-clamp-2">${c.bio}</p>
                </div>
            `).join('');

            select.innerHTML = consultants.map(c => `<option value="${c.id}">${c.avatar} ${c.name}</option>`).join('');
        }

        function openModal(id) {
            const c = consultants.find(x => x.id === id);
            selectedConsultant = c;

            document.getElementById('modal-name').innerText = c.name;
            document.getElementById('modal-role').innerText = c.role;
            document.getElementById('modal-avatar').innerText = c.avatar;
            document.getElementById('modal-bio').innerText = c.bio;
            document.getElementById('modal-methods').innerHTML = c.methods.map(m => `<li>â€¢ ${m}</li>`).join('');
            document.getElementById('modal-prompt-text').innerText = c.prompt;
            document.getElementById('modal-logic-text').innerText = c.logic;
            
            document.getElementById('modal-overlay').classList.remove('hidden');
            renderChart(c);
            switchTab('prompt');
        }

        function renderChart(c) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            if (radarChartInstance) radarChartInstance.destroy();
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['é€»è¾‘', 'äººæ–‡', 'æ‰¹åˆ¤', 'æœªæ¥', 'å•†ä¸š', 'æƒ³è±¡'],
                    datasets: [{
                        data: c.focus,
                        backgroundColor: c.color + '33',
                        borderColor: c.color,
                        borderWidth: 2
                    }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { r: { suggestedMin: 0, suggestedMax: 100, ticks: { display: false } } } }
            });
        }

        function switchTab(name) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.add('hidden'));
            document.getElementById('tab-' + name).classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(b => {
                if(b.dataset.tab === name) b.classList.add('active-tab');
                else b.classList.remove('active-tab');
            });
        }

        function copyPrompt() {
            const text = document.getElementById('modal-prompt-text').innerText;
            const temp = document.createElement('textarea');
            temp.value = text;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('copy');
            document.body.removeChild(temp);
            alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }

        function setupEventListeners() {
            document.getElementById('close-modal').onclick = () => document.getElementById('modal-overlay').classList.add('hidden');
            document.querySelectorAll('.tab-btn').forEach(b => b.onclick = () => switchTab(b.dataset.tab));
            
            document.getElementById('run-sim').onclick = () => {
                const sig = document.getElementById('signal-select').value;
                const cid = document.getElementById('consultant-select').value;
                const c = consultants.find(x => x.id === cid);
                const out = document.getElementById('sim-output');
                
                out.innerHTML = `
                    <div class="animate-pulse">
                        <p class="font-bold text-gray-800">[${new Date().toLocaleTimeString()}] ${c.name} æ€è€ƒä¸­...</p>
                        <p class="text-sm text-gray-600 mt-2">æ­£åœ¨åº”ç”¨â€œ${c.methods[0]}â€è¿›è¡Œæ¨¡å‹æ¼”ç®—...</p>
                    </div>
                `;

                setTimeout(() => {
                    out.innerHTML = `
                        <p class="font-bold text-gray-900 border-b pb-2 mb-4">åˆ†æç»“è®ºï¼š${c.name} å¯¹ ${sig} çš„æ„ŸçŸ¥</p>
                        <p class="text-gray-700 leading-relaxed">æˆ‘è®¤ä¸ºè¿™ä¸ªä¿¡å·æ˜¾ç¤ºäº†åº•å±‚é€»è¾‘çš„å‰§å˜ã€‚æ­£å¦‚æˆ‘åœ¨â€œ${c.methods[1]}â€ä¸­æ‰€å¼ºè°ƒçš„ï¼Œè¿™ä¸ä»…ä»…æ˜¯å·¥å…·çš„æ›´è¿­ï¼Œæ›´æ˜¯äººç±»è®¤çŸ¥çš„é‡æ„ã€‚</p>
                        <div class="mt-4 p-3 bg-blue-50 text-xs rounded border border-blue-100 italic">
                            æç¤ºï¼šæŸ¥çœ‹è¯¥é¡¾é—®çš„ Prompt å¹¶åœ¨ GPT-4 ä¸­è¿è¡Œä»¥è·å–å®Œæ•´æ·±åº¦æŠ¥å‘Šã€‚
                        </div>
                    `;
                }, 1000);
            };
        }

        // Safe Initialization
        window.addEventListener('load', initApp);
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof lucide !== 'undefined') lucide.createIcons();
        });
    </script>
</body>
</html>